"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}document.addEventListener("DOMContentLoaded",function(){var e={consumption:0,household:0,marketPrice:11.88,membershipPrice:0,membershipLength:0,membershipPercent:0},t={};function n(t,n){document.querySelector("#formDropdownSubValue").innerText=n;var r=t.membershipPrice,o=r<450?.1:450==r?.135:.18,i=Object.assign({},t,{membershipPercent:o});return e=Object.assign({},e,i),!0}function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=n.consumption,o=n.household,i=n.marketPrice,s=n.membershipPrice,a=n.membershipLength,c=n.membershipPercent,u={estimatedConsumption:r?parseInt(r):897/2.58*parseInt(o),estimatedBill:r?r*i*.01:897*i/2.58*parseInt(o)*.01,estimatedBillAtlas:r?r*i*.01*(1-c):897*i/2.58*parseInt(o)*.01*(1-c)};return u.estimatedSavings=u.estimatedBill-u.estimatedBillAtlas,u.displaySavings=12*u.estimatedSavings*a-s,Object.keys(u).forEach(function(e){t[e]=parseFloat(u[e].toFixed(2))}),!0}function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=(n.consumption,n.household,n.marketPrice,n.membershipPrice),o=n.membershipLength;n.membershipPercent;if(t.displaySavings>0){document.querySelector("#estimatedSavings").classList.remove("results--hide"),document.querySelector("#phraseROI").classList.remove("results--hide"),document.querySelector("#savingsMessage").textContent="Great! You can save an estimated",document.querySelector("#estimatedSavings").textContent="$"+t.displaySavings.toFixed(2);var i=parseFloat(r/(12*t.estimatedSavings)),s=i>1?i.toFixed(1)+" years":parseInt(12*i)+" month(s)";document.querySelector("#phraseROItime").textContent=s}else document.querySelector("#savingsMessage").textContent="Your energy consumption is so low, we can't save you a lot of money at the moment!",document.querySelector("#estimatedSavings").classList.add("results--hide"),document.querySelector("#phraseROI").classList.add("results--hide");document.querySelector("#membershipTime").textContent=o}document.querySelector("#calculator").addEventListener("submit",function(e){return e.preventDefault(),document.querySelector("#calculatorContainer").classList.add("container--hide"),document.querySelector("#calculatorContainer").classList.remove("container--show"),document.querySelector("#emailFormContainer").classList.remove("container--hide"),document.querySelector("#emailFormContainer").classList.add("container--show"),!1});var i={monthlyConsumption:document.querySelector("#formInputConsumption"),marketPrice:document.querySelector("#formInputMarketPrice")},s=document.querySelector("#dropdownConsumptionOptions").children,a=document.querySelector("#formDropdownSubOptions").children,c=document.querySelector("#formDropdownSubResultsOptions").children;document.querySelector("#mc-embedded-subscribe-form").addEventListener("submit",function(t){document.querySelector("#mce-EMAIL").value&&(r(e)&&(o(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;t.consumption,t.household,t.marketPrice,t.membershipPrice,t.membershipLength,t.membershipPercent,document.querySelector("#emailFormContainer").classList.add("container--hide"),document.querySelector("#emailFormContainer").classList.remove("container--show"),document.querySelector("#resultsContainer").classList.add("container--show"),document.querySelector("#resultsContainer").classList.remove("container--hide")}()))});for(var u in i)i[u].onchange=function(t){return r=_defineProperty({},(n=t).target.name,n.target.value),e=Object.assign({},e,r),!0;var n,r};for(var m in a){if(m<a.length)a[m].onclick=function(e){n(e.target.dataset,e.target.innerText)}}for(var l in c){if(l<c.length)c[l].onclick=function(t){n(t.target.dataset,t.target.innerText)&&(r(e),o())}}for(var d in s){if(d<a.length)s[d].onclick=function(t){return n=t.target.dataset,r=n.consumptionIndex,o=n.consumptionTag,i=document.querySelector("#formInputConsumption"),"0"==r?(e.household=0,i.placeholder="Enter your monthly consumption (kWh)"):(e.consumption=0,i.placeholder="Enter your household size"),i.name=o,void(i.value="");var n,r,o,i}}},!0);