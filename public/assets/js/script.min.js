"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}document.addEventListener("DOMContentLoaded",function(){var e={consumption:0,household:0,marketPrice:11.88,membershipPrice:0,membershipLength:0,membershipPercent:0},t={};function n(t,n){document.querySelector("#formDropdownSubValue").innerText=n;var r=t.membershipPrice,o=r<450?.1:450==r?.135:.18,i=Object.assign({},t,{membershipPercent:o});return e=Object.assign({},e,i),!0}function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=n.consumption,o=n.household,i=n.marketPrice,a=n.membershipPrice,s=n.membershipLength,c=n.membershipPercent,u={estimatedConsumption:r?parseInt(r):897/2.58*parseInt(o),estimatedBill:r?r*i*.01:897*i/2.58*parseInt(o)*.01,estimatedBillAtlas:r?r*i*.01*(1-c):897*i/2.58*parseInt(o)*.01*(1-c)};return u.estimatedSavings=u.estimatedBill-u.estimatedBillAtlas,u.displaySavings=12*u.estimatedSavings*s-a,Object.keys(u).forEach(function(e){t[e]=parseFloat(u[e].toFixed(2))}),!0}function o(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,o=(r.consumption,r.household,r.marketPrice,r.membershipPrice),i=r.membershipLength;r.membershipPercent;if(t.displaySavings>0){document.querySelector("#estimatedSavings").classList.remove("results--hide"),document.querySelector("#phraseROI").classList.remove("results--hide"),document.querySelector("#savingsMessage").textContent="Great! with the Atlas "+i+" year "+(i<20?"basic":"premium")+" subscription, you can save up to:";var a=0,s=parseFloat(t.displaySavings.toFixed(2)),c=setInterval(function(){(a=parseFloat((a+s/15).toFixed(2)))<s?document.querySelector("#estimatedSavings").textContent="$"+a:(document.querySelector("#estimatedSavings").textContent="$"+s.toFixed(2),clearInterval(c))},50),u=parseFloat(o/(12*t.estimatedSavings)),m=u>1?u.toFixed(1)+" years":parseInt(12*u)+" month(s)";document.querySelector("#phraseROItime").textContent=m}else document.querySelector("#savingsMessage").textContent="Your energy consumption is so low, we can't save you a lot of money at the moment!",document.querySelector("#estimatedSavings").classList.add("results--hide"),document.querySelector("#phraseROI").classList.add("results--hide");document.querySelector("#membershipTime").textContent=i+" year "+(i<20?"basic":"premium"),[{tag:"og:title",desc:(n=t.displaySavings)>0?"Save up to $"+n+" on your electric bill":shareSiteTitle}].forEach(function(e){var t=e.tag,n=e.desc,r=document.createElement("meta");r.name=t,r.content=n,document.getElementsByTagName("head")[0].appendChild(r)})}document.querySelector("#calculator").addEventListener("submit",function(e){return e.preventDefault(),document.querySelector("#calculatorContainer").classList.add("container--hide"),document.querySelector("#calculatorContainer").classList.remove("container--show"),document.querySelector("#emailFormContainer").classList.remove("container--hide"),document.querySelector("#emailFormContainer").classList.add("container--show"),!1});var i=document.querySelectorAll(".form-control"),a={monthlyConsumption:document.querySelector("#formInputConsumption"),marketPrice:document.querySelector("#formInputMarketPrice")},s=document.querySelector("#dropdownConsumptionOptions").children,c=document.querySelector("#formDropdownSubOptions").children,u=document.querySelector("#formDropdownSubResultsOptions").children;function m(e){var t=e.target.previousElementSibling;t&&t.classList.add("input--active")}function l(e){var t=e.target.previousElementSibling;t&&t.classList.remove("input--active")}document.querySelector("#mc-embedded-subscribe-form").addEventListener("submit",function(t){var n=document.querySelector("#mce-EMAIL").value;/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)&&(r(e)&&(o(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;t.consumption,t.household,t.marketPrice,t.membershipPrice,t.membershipLength,t.membershipPercent,document.querySelector("#emailFormContainer").classList.add("container--hide"),document.querySelector("#emailFormContainer").classList.remove("container--show"),document.querySelector("#resultsContainer").classList.add("container--show"),document.querySelector("#resultsContainer").classList.remove("container--hide")}()))});for(var d in i){var p=i[d];"INPUT"==p.nodeName&&"SPAN"==p.previousElementSibling.nodeName&&(p.addEventListener("focus",m),p.addEventListener("blur",l))}for(var h in a)a[h].onchange=function(t){return r=_defineProperty({},(n=t).target.name,n.target.value),e=Object.assign({},e,r),!0;var n,r};for(var v in c){if(v<c.length)c[v].onclick=function(e){n(e.target.dataset,e.target.innerText)}}for(var y in u){if(y<u.length)u[y].onclick=function(t){n(t.target.dataset,t.target.innerText)&&(r(e),o())}}for(var g in s){if(g<c.length)s[g].onclick=function(t){return n=t.target.dataset,r=n.consumptionIndex,o=n.consumptionTag,i=document.querySelector("#formInputConsumption"),a=document.querySelector("#consumptionDropdownSelected"),"0"==r?(e.household=0,a.textContent="(Yes)",i.placeholder="Enter your monthly energy usage (kWh)"):(e.consumption=0,a.textContent="(No)",i.placeholder="How many people live in your household?"),i.name=o,void(i.value="");var n,r,o,i,a}}},!0);